var Dn=Object.defineProperty;var qt=e=>{throw TypeError(e)};var On=(e,t,n)=>t in e?Dn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var O=(e,t,n)=>On(e,typeof t!="symbol"?t+"":t,n),Ct=(e,t,n)=>t.has(e)||qt("Cannot "+n);var de=(e,t,n)=>(Ct(e,t,"read from private field"),n?n.call(e):t.get(e)),xe=(e,t,n)=>t.has(e)?qt("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n);var fe=(e,t,n)=>(Ct(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const Fn=!1;var Tt=Array.isArray,St=Array.from,Nn=Object.defineProperty,_e=Object.getOwnPropertyDescriptor,Xt=Object.getOwnPropertyDescriptors,qn=Object.prototype,Cn=Array.prototype,kt=Object.getPrototypeOf;function $n(e){return e()}function _t(e){for(var t=0;t<e.length;t++)e[t]()}const W=2,Zt=4,nt=8,At=16,X=32,Re=64,mt=128,ve=256,He=512,U=1024,ae=2048,Le=4096,Q=8192,ye=16384,jn=32768,rt=65536,Vn=1<<17,Bn=1<<19,Qt=1<<20,ce=Symbol("$state"),Kn=Symbol("legacy props"),Un=Symbol("");function en(e){return e===this.v}function Yn(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function tn(e){return!Yn(e,this.v)}function zn(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Hn(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Jn(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Gn(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Wn(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Xn(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Zn(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Qn(){throw new Error("https://svelte.dev/e/state_unsafe_local_read")}function er(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let be=!1;function tr(){be=!0}function V(e){return{f:0,v:e,reactions:null,equals:en,version:0}}function J(e){return rr(V(e))}function nr(e,t=!1){var r;const n=V(e);return t||(n.equals=tn),be&&P!==null&&P.l!==null&&((r=P.l).s??(r.s=[])).push(n),n}function rr(e){return A!==null&&A.f&W&&(ee===null?br([e]):ee.push(e)),e}function I(e,t){return A!==null&&lt()&&A.f&(W|At)&&(ee===null||!ee.includes(e))&&er(),gt(e,t)}function gt(e,t){return e.equals(t)||(e.v=t,e.version=yn(),nn(e,ae),lt()&&E!==null&&E.f&U&&!(E.f&X)&&(N!==null&&N.includes(e)?(ne(E,ae),ct(E)):se===null?Er([e]):se.push(e))),t}function nn(e,t){var n=e.reactions;if(n!==null)for(var r=lt(),i=n.length,s=0;s<i;s++){var a=n[s],v=a.f;v&ae||!r&&a===E||(ne(a,t),v&(U|ve)&&(v&W?nn(a,Le):ct(a)))}}const Pt=1,Mt=2,rn=4,ir=8,sr=16,ar=1,or=2,lr=8,ur=1,fr=2,j=Symbol();let cr=!1;function L(e,t=null,n){if(typeof e!="object"||e===null||ce in e)return e;const r=kt(e);if(r!==qn&&r!==Cn)return e;var i=new Map,s=Tt(e),a=V(0);s&&i.set("length",V(e.length));var v;return new Proxy(e,{defineProperty(c,o,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Xn();var f=i.get(o);return f===void 0?(f=V(u.value),i.set(o,f)):I(f,L(u.value,v)),!0},deleteProperty(c,o){var u=i.get(o);if(u===void 0)o in c&&i.set(o,V(j));else{if(s&&typeof o=="string"){var f=i.get("length"),l=Number(o);Number.isInteger(l)&&l<f.v&&I(f,l)}I(u,j),$t(a)}return!0},get(c,o,u){var p;if(o===ce)return e;var f=i.get(o),l=o in c;if(f===void 0&&(!l||(p=_e(c,o))!=null&&p.writable)&&(f=V(L(l?c[o]:j,v)),i.set(o,f)),f!==void 0){var d=m(f);return d===j?void 0:d}return Reflect.get(c,o,u)},getOwnPropertyDescriptor(c,o){var u=Reflect.getOwnPropertyDescriptor(c,o);if(u&&"value"in u){var f=i.get(o);f&&(u.value=m(f))}else if(u===void 0){var l=i.get(o),d=l==null?void 0:l.v;if(l!==void 0&&d!==j)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return u},has(c,o){var d;if(o===ce)return!0;var u=i.get(o),f=u!==void 0&&u.v!==j||Reflect.has(c,o);if(u!==void 0||E!==null&&(!f||(d=_e(c,o))!=null&&d.writable)){u===void 0&&(u=V(f?L(c[o],v):j),i.set(o,u));var l=m(u);if(l===j)return!1}return f},set(c,o,u,f){var S;var l=i.get(o),d=o in c;if(s&&o==="length")for(var p=u;p<l.v;p+=1){var g=i.get(p+"");g!==void 0?I(g,j):p in c&&(g=V(j),i.set(p+"",g))}l===void 0?(!d||(S=_e(c,o))!=null&&S.writable)&&(l=V(void 0),I(l,L(u,v)),i.set(o,l)):(d=l.v!==j,I(l,L(u,v)));var _=Reflect.getOwnPropertyDescriptor(c,o);if(_!=null&&_.set&&_.set.call(f,u),!d){if(s&&typeof o=="string"){var h=i.get("length"),w=Number(o);Number.isInteger(w)&&w>=h.v&&I(h,w+1)}$t(a)}return!0},ownKeys(c){m(a);var o=Reflect.ownKeys(c).filter(l=>{var d=i.get(l);return d===void 0||d.v!==j});for(var[u,f]of i)f.v!==j&&!(u in c)&&o.push(u);return o},setPrototypeOf(){Zn()}})}function $t(e,t=1){I(e,e.v+t)}var jt,sn,an;function vr(){if(jt===void 0){jt=window;var e=Element.prototype,t=Node.prototype;sn=_e(t,"firstChild").get,an=_e(t,"nextSibling").get,e.__click=void 0,e.__className="",e.__attributes=null,e.__styles=null,e.__e=void 0,Text.prototype.__t=void 0}}function it(e=""){return document.createTextNode(e)}function Je(e){return sn.call(e)}function st(e){return an.call(e)}function k(e,t){return Je(e)}function oe(e,t){{var n=Je(e);return n instanceof Comment&&n.data===""?st(n):n}}function x(e,t=1,n=!1){let r=e;for(;t--;)r=st(r);return r}function dr(e){e.textContent=""}function ie(e){var t=W|ae;E===null?t|=ve:E.f|=Qt;var n=A!==null&&A.f&W?A:null;const r={children:null,ctx:P,deps:null,equals:en,f:t,fn:e,reactions:null,v:null,version:0,parent:n??E};return n!==null&&(n.children??(n.children=[])).push(r),r}function pr(e){const t=ie(e);return t.equals=tn,t}function on(e){var t=e.children;if(t!==null){e.children=null;for(var n=0;n<t.length;n+=1){var r=t[n];r.f&W?It(r):le(r)}}}function hr(e){for(var t=e.parent;t!==null;){if(!(t.f&W))return t;t=t.parent}return null}function ln(e){var t,n=E;te(hr(e));try{on(e),t=bn(e)}finally{te(n)}return t}function un(e){var t=ln(e),n=(he||e.f&ve)&&e.deps!==null?Le:U;ne(e,n),e.equals(t)||(e.v=t,e.version=yn())}function It(e){on(e),Ae(e,0),ne(e,ye),e.v=e.children=e.deps=e.ctx=e.reactions=null}function fn(e){E===null&&A===null&&Jn(),A!==null&&A.f&ve&&Hn(),Dt&&zn()}function _r(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function De(e,t,n,r=!0){var i=(e&Re)!==0,s=E,a={ctx:P,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:e|ae,first:null,fn:t,last:null,next:null,parent:i?null:s,prev:null,teardown:null,transitions:null,version:0};if(n){var v=me;try{Vt(!0),ft(a),a.f|=jn}catch(u){throw le(a),u}finally{Vt(v)}}else t!==null&&ct(a);var c=n&&a.deps===null&&a.first===null&&a.nodes_start===null&&a.teardown===null&&(a.f&Qt)===0;if(!c&&!i&&r&&(s!==null&&_r(a,s),A!==null&&A.f&W)){var o=A;(o.children??(o.children=[])).push(a)}return a}function Ge(e){fn();var t=E!==null&&(E.f&X)!==0&&P!==null&&!P.m;if(t){var n=P;(n.e??(n.e=[])).push({fn:e,effect:E,reaction:A})}else{var r=at(e);return r}}function mr(e){return fn(),Rt(e)}function gr(e){const t=De(Re,e,!0);return(n={})=>new Promise(r=>{n.outro?ke(t,()=>{le(t),r(void 0)}):(le(t),r(void 0))})}function at(e){return De(Zt,e,!1)}function Rt(e){return De(nt,e,!0)}function $(e){return ot(e)}function ot(e,t=0){return De(nt|At|t,e,!0)}function ge(e,t=!0){return De(nt|X,e,!0,t)}function cn(e){var t=e.teardown;if(t!==null){const n=Dt,r=A;Bt(!0),ue(null);try{t.call(null)}finally{Bt(n),ue(r)}}}function vn(e){var t=e.deriveds;if(t!==null){e.deriveds=null;for(var n=0;n<t.length;n+=1)It(t[n])}}function dn(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){var r=n.next;le(n,t),n=r}}function wr(e){for(var t=e.first;t!==null;){var n=t.next;t.f&X||le(t),t=n}}function le(e,t=!0){var n=!1;if((t||e.f&Bn)&&e.nodes_start!==null){for(var r=e.nodes_start,i=e.nodes_end;r!==null;){var s=r===i?null:st(r);r.remove(),r=s}n=!0}dn(e,t&&!n),vn(e),Ae(e,0),ne(e,ye);var a=e.transitions;if(a!==null)for(const c of a)c.stop();cn(e);var v=e.parent;v!==null&&v.first!==null&&pn(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function pn(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function ke(e,t){var n=[];Lt(e,n,!0),hn(n,()=>{le(e),t&&t()})}function hn(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var i of e)i.out(r)}else t()}function Lt(e,t,n){if(!(e.f&Q)){if(e.f^=Q,e.transitions!==null)for(const a of e.transitions)(a.is_global||n)&&t.push(a);for(var r=e.first;r!==null;){var i=r.next,s=(r.f&rt)!==0||(r.f&X)!==0;Lt(r,t,s?n:!1),r=i}}}function We(e){_n(e,!0)}function _n(e,t){if(e.f&Q){Oe(e)&&ft(e),e.f^=Q;for(var n=e.first;n!==null;){var r=n.next,i=(n.f&rt)!==0||(n.f&X)!==0;_n(n,i?t:!1),n=r}if(e.transitions!==null)for(const s of e.transitions)(s.is_global||t)&&s.in()}}let wt=!1,yt=[];function yr(){wt=!1;const e=yt.slice();yt=[],_t(e)}function mn(e){wt||(wt=!0,queueMicrotask(yr)),yt.push(e)}function gn(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let Ye=!1,Xe=!1,Ze=null,me=!1,Dt=!1;function Vt(e){me=e}function Bt(e){Dt=e}let bt=[],Se=0;let A=null;function ue(e){A=e}let E=null;function te(e){E=e}let ee=null;function br(e){ee=e}let N=null,K=0,se=null;function Er(e){se=e}let wn=0,he=!1,P=null;function yn(){return++wn}function lt(){return!be||P!==null&&P.l===null}function Oe(e){var a,v;var t=e.f;if(t&ae)return!0;if(t&Le){var n=e.deps,r=(t&ve)!==0;if(n!==null){var i;if(t&He){for(i=0;i<n.length;i++)((a=n[i]).reactions??(a.reactions=[])).push(e);e.f^=He}for(i=0;i<n.length;i++){var s=n[i];if(Oe(s)&&un(s),r&&E!==null&&!he&&!((v=s==null?void 0:s.reactions)!=null&&v.includes(e))&&(s.reactions??(s.reactions=[])).push(e),s.version>e.version)return!0}}r||ne(e,U)}return!1}function xr(e,t){for(var n=t;n!==null;){if(n.f&mt)try{n.fn(e);return}catch{n.f^=mt}n=n.parent}throw Ye=!1,e}function Tr(e){return(e.f&ye)===0&&(e.parent===null||(e.parent.f&mt)===0)}function ut(e,t,n,r){if(Ye){if(n===null&&(Ye=!1),Tr(t))throw e;return}n!==null&&(Ye=!0);{xr(e,t);return}}function bn(e){var l;var t=N,n=K,r=se,i=A,s=he,a=ee,v=P,c=e.f;N=null,K=0,se=null,A=c&(X|Re)?null:e,he=!me&&(c&ve)!==0,ee=null,P=e.ctx;try{var o=(0,e.fn)(),u=e.deps;if(N!==null){var f;if(Ae(e,K),u!==null&&K>0)for(u.length=K+N.length,f=0;f<N.length;f++)u[K+f]=N[f];else e.deps=u=N;if(!he)for(f=K;f<u.length;f++)((l=u[f]).reactions??(l.reactions=[])).push(e)}else u!==null&&K<u.length&&(Ae(e,K),u.length=K);return o}finally{N=t,K=n,se=r,A=i,he=s,ee=a,P=v}}function Sr(e,t){let n=t.reactions;if(n!==null){var r=n.indexOf(e);if(r!==-1){var i=n.length-1;i===0?n=t.reactions=null:(n[r]=n[i],n.pop())}}n===null&&t.f&W&&(N===null||!N.includes(t))&&(ne(t,Le),t.f&(ve|He)||(t.f^=He),Ae(t,0))}function Ae(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Sr(e,n[r])}function ft(e){var t=e.f;if(!(t&ye)){ne(e,U);var n=E,r=P;E=e;try{t&At?wr(e):dn(e),vn(e),cn(e);var i=bn(e);e.teardown=typeof i=="function"?i:null,e.version=wn}catch(s){ut(s,e,n,r||e.ctx)}finally{E=n}}}function kr(){if(Se>1e3){Se=0;try{Gn()}catch(e){if(Ze!==null)ut(e,Ze,null);else throw e}}Se++}function Ar(e){var t=e.length;if(t!==0){kr();var n=me;me=!0;try{for(var r=0;r<t;r++){var i=e[r];i.f&U||(i.f^=U);var s=[];En(i,s),Pr(s)}}finally{me=n}}}function Pr(e){var t=e.length;if(t!==0)for(var n=0;n<t;n++){var r=e[n];if(!(r.f&(ye|Q)))try{Oe(r)&&(ft(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?pn(r):r.fn=null))}catch(i){ut(i,r,null,r.ctx)}}}function Mr(){if(Xe=!1,Se>1001)return;const e=bt;bt=[],Ar(e),Xe||(Se=0,Ze=null)}function ct(e){Xe||(Xe=!0,queueMicrotask(Mr)),Ze=e;for(var t=e;t.parent!==null;){t=t.parent;var n=t.f;if(n&(Re|X)){if(!(n&U))return;t.f^=U}}bt.push(t)}function En(e,t){var n=e.first,r=[];e:for(;n!==null;){var i=n.f,s=(i&X)!==0,a=s&&(i&U)!==0,v=n.next;if(!a&&!(i&Q))if(i&nt){if(s)n.f^=U;else try{Oe(n)&&ft(n)}catch(f){ut(f,n,null,n.ctx)}var c=n.first;if(c!==null){n=c;continue}}else i&Zt&&r.push(n);if(v===null){let f=n.parent;for(;f!==null;){if(e===f)break e;var o=f.next;if(o!==null){n=o;continue e}f=f.parent}}n=v}for(var u=0;u<r.length;u++)c=r[u],t.push(c),En(c,t)}function m(e){var u;var t=e.f,n=(t&W)!==0;if(n&&t&ye){var r=ln(e);return It(e),r}if(A!==null){ee!==null&&ee.includes(e)&&Qn();var i=A.deps;N===null&&i!==null&&i[K]===e?K++:N===null?N=[e]:N.push(e),se!==null&&E!==null&&E.f&U&&!(E.f&X)&&se.includes(e)&&(ne(E,ae),ct(E))}else if(n&&e.deps===null)for(var s=e,a=s.parent,v=s;a!==null;)if(a.f&W){var c=a;v=c,a=c.parent}else{var o=a;(u=o.deriveds)!=null&&u.includes(v)||(o.deriveds??(o.deriveds=[])).push(v);break}return n&&(s=e,Oe(s)&&un(s)),e.v}function Ee(e){const t=A;try{return A=null,e()}finally{A=t}}const Ir=~(ae|Le|U);function ne(e,t){e.f=e.f&Ir|t}function xn(e,t=1){var n=m(e),r=t===1?n++:n--;return I(e,n),r}function Fe(e,t=!1,n){P={p:P,c:null,e:null,m:!1,s:e,x:null,l:null},be&&!t&&(P.l={s:null,u:null,r1:[],r2:V(!1)})}function Ne(e){const t=P;if(t!==null){const a=t.e;if(a!==null){var n=E,r=A;t.e=null;try{for(var i=0;i<a.length;i++){var s=a[i];te(s.effect),ue(s.reaction),at(s.fn)}}finally{te(n),ue(r)}}P=t.p,t.m=!0}return{}}function Rr(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(ce in e)Et(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&ce in n&&Et(n)}}}function Et(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{Et(e[r],t)}catch{}const n=kt(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Xt(n);for(let i in r){const s=r[i].get;if(s)try{s.call(e)}catch{}}}}}let Kt=!1;function Lr(){Kt||(Kt=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function Dr(e){var t=A,n=E;ue(null),te(null);try{return e()}finally{ue(t),te(n)}}function Or(e,t,n,r=n){e.addEventListener(t,()=>Dr(n));const i=e.__on_r;i?e.__on_r=()=>{i(),r(!0)}:e.__on_r=()=>r(!0),Lr()}const Tn=new Set,xt=new Set;function Ot(e){for(var t=0;t<e.length;t++)Tn.add(e[t]);for(var n of xt)n(e)}function Ke(e){var w;var t=this,n=t.ownerDocument,r=e.type,i=((w=e.composedPath)==null?void 0:w.call(e))||[],s=i[0]||e.target,a=0,v=e.__root;if(v){var c=i.indexOf(v);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var o=i.indexOf(t);if(o===-1)return;c<=o&&(a=c)}if(s=i[a]||e.target,s!==t){Nn(e,"currentTarget",{configurable:!0,get(){return s||n}});var u=A,f=E;ue(null),te(null);try{for(var l,d=[];s!==null;){var p=s.assignedSlot||s.parentNode||s.host||null;try{var g=s["__"+r];if(g!==void 0&&!s.disabled)if(Tt(g)){var[_,...h]=g;_.apply(s,[e,...h])}else g.call(s,e)}catch(S){l?d.push(S):l=S}if(e.cancelBubble||p===t||p===null)break;s=p}if(l){for(let S of d)queueMicrotask(()=>{throw S});throw l}}finally{e.__root=t,delete e.currentTarget,ue(u),te(f)}}}function Fr(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function Qe(e,t){var n=E;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function Y(e,t){var n=(t&ur)!==0,r=(t&fr)!==0,i,s=!e.startsWith("<!>");return()=>{i===void 0&&(i=Fr(s?e:"<!>"+e),n||(i=Je(i)));var a=r?document.importNode(i,!0):i.cloneNode(!0);if(n){var v=Je(a),c=a.lastChild;Qe(v,c)}else Qe(a,a);return a}}function Ut(e=""){{var t=it(e+"");return Qe(t,t),t}}function Nr(){var e=document.createDocumentFragment(),t=document.createComment(""),n=it();return e.append(t,n),Qe(t,n),e}function q(e,t){e!==null&&e.before(t)}const qr=["touchstart","touchmove"];function Cr(e){return qr.includes(e)}function R(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n==null?"":n+"")}function $r(e,t){return jr(e,t)}const pe=new Map;function jr(e,{target:t,anchor:n,props:r={},events:i,context:s,intro:a=!0}){vr();var v=new Set,c=f=>{for(var l=0;l<f.length;l++){var d=f[l];if(!v.has(d)){v.add(d);var p=Cr(d);t.addEventListener(d,Ke,{passive:p});var g=pe.get(d);g===void 0?(document.addEventListener(d,Ke,{passive:p}),pe.set(d,1)):pe.set(d,g+1)}}};c(St(Tn)),xt.add(c);var o=void 0,u=gr(()=>{var f=n??t.appendChild(it());return ge(()=>{if(s){Fe({});var l=P;l.c=s}i&&(r.$$events=i),o=e(f,r)||{},s&&Ne()}),()=>{var p;for(var l of v){t.removeEventListener(l,Ke);var d=pe.get(l);--d===0?(document.removeEventListener(l,Ke),pe.delete(l)):pe.set(l,d)}xt.delete(c),f!==n&&((p=f.parentNode)==null||p.removeChild(f))}});return Vr.set(o,u),o}let Vr=new WeakMap;function Pe(e,t,n=!1){var r=e,i=null,s=null,a=j,v=n?rt:0,c=!1;const o=(f,l=!0)=>{c=!0,u(l,f)},u=(f,l)=>{a!==(a=f)&&(a?(i?We(i):l&&(i=ge(()=>l(r))),s&&ke(s,()=>{s=null})):(s?We(s):l&&(s=ge(()=>l(r))),i&&ke(i,()=>{i=null})))};ot(()=>{c=!1,t(o),c||u(null,null)},v)}function Sn(e,t){return t}function Br(e,t,n,r){for(var i=[],s=t.length,a=0;a<s;a++)Lt(t[a].e,i,!0);var v=s>0&&i.length===0&&n!==null;if(v){var c=n.parentNode;dr(c),c.append(n),r.clear(),re(e,t[0].prev,t[s-1].next)}hn(i,()=>{for(var o=0;o<s;o++){var u=t[o];v||(r.delete(u.k),re(e,u.prev,u.next)),le(u.e,!v)}})}function kn(e,t,n,r,i,s=null){var a=e,v={flags:t,items:new Map,first:null},c=(t&rn)!==0;if(c){var o=e;a=o.appendChild(it())}var u=null,f=!1;ot(()=>{var l=n(),d=Tt(l)?l:l==null?[]:St(l),p=d.length;if(!(f&&p===0)){f=p===0;{var g=A;Kr(d,v,a,i,t,(g.f&Q)!==0,r)}s!==null&&(p===0?u?We(u):u=ge(()=>s(a)):u!==null&&ke(u,()=>{u=null})),n()}})}function Kr(e,t,n,r,i,s,a){var Ce,$e,je,Ve;var v=(i&ir)!==0,c=(i&(Pt|Mt))!==0,o=e.length,u=t.items,f=t.first,l=f,d,p=null,g,_=[],h=[],w,S,b,T;if(v)for(T=0;T<o;T+=1)w=e[T],S=a(w,T),b=u.get(S),b!==void 0&&((Ce=b.a)==null||Ce.measure(),(g??(g=new Set)).add(b));for(T=0;T<o;T+=1){if(w=e[T],S=a(w,T),b=u.get(S),b===void 0){var Z=l?l.e.nodes_start:n;p=Yr(Z,t,p,p===null?t.first:p.next,w,S,T,r,i),u.set(S,p),_=[],h=[],l=p.next;continue}if(c&&Ur(b,w,T,i),b.e.f&Q&&(We(b.e),v&&(($e=b.a)==null||$e.unfix(),(g??(g=new Set)).delete(b))),b!==l){if(d!==void 0&&d.has(b)){if(_.length<h.length){var F=h[0],D;p=F.prev;var y=_[0],z=_[_.length-1];for(D=0;D<_.length;D+=1)Yt(_[D],F,n);for(D=0;D<h.length;D+=1)d.delete(h[D]);re(t,y.prev,z.next),re(t,p,y),re(t,z,F),l=F,p=z,T-=1,_=[],h=[]}else d.delete(b),Yt(b,l,n),re(t,b.prev,b.next),re(t,b,p===null?t.first:p.next),re(t,p,b),p=b;continue}for(_=[],h=[];l!==null&&l.k!==S;)(s||!(l.e.f&Q))&&(d??(d=new Set)).add(l),h.push(l),l=l.next;if(l===null)continue;b=l}_.push(b),p=b,l=b.next}if(l!==null||d!==void 0){for(var C=d===void 0?[]:St(d);l!==null;)(s||!(l.e.f&Q))&&C.push(l),l=l.next;var B=C.length;if(B>0){var qe=i&rn&&o===0?n:null;if(v){for(T=0;T<B;T+=1)(je=C[T].a)==null||je.measure();for(T=0;T<B;T+=1)(Ve=C[T].a)==null||Ve.fix()}Br(t,C,qe,u)}}v&&mn(()=>{var Be;if(g!==void 0)for(b of g)(Be=b.a)==null||Be.apply()}),E.first=t.first&&t.first.e,E.last=p&&p.e}function Ur(e,t,n,r){r&Pt&&gt(e.v,t),r&Mt?gt(e.i,n):e.i=n}function Yr(e,t,n,r,i,s,a,v,c){var o=(c&Pt)!==0,u=(c&sr)===0,f=o?u?nr(i):V(i):i,l=c&Mt?V(a):a,d={i:l,v:f,k:s,a:null,e:null,prev:n,next:r};try{return d.e=ge(()=>v(e,f,l),cr),d.e.prev=n&&n.e,d.e.next=r&&r.e,n===null?t.first=d:(n.next=d,n.e.next=d.e),r!==null&&(r.prev=d,r.e.prev=d.e),d}finally{}}function Yt(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,i=t?t.e.nodes_start:n,s=e.e.nodes_start;s!==r;){var a=st(s);i.before(s),s=a}}function re(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function zr(e,t,n){var r=e,i,s;ot(()=>{i!==(i=t())&&(s&&(ke(s),s=null),i&&(s=ge(()=>n(r,i))))},rt)}function Hr(e,t,n){at(()=>{var r=Ee(()=>t(e,n==null?void 0:n())||{});if(r!=null&&r.destroy)return()=>r.destroy()})}function zt(e,t){var n=e.__attributes??(e.__attributes={});n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t)}function et(e,t,n,r){var i=e.__attributes??(e.__attributes={});i[t]!==(i[t]=n)&&(t==="style"&&"__styles"in e&&(e.__styles={}),t==="loading"&&(e[Un]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Jr(e).includes(t)?e[t]=n:e.setAttribute(t,n))}var Ht=new Map;function Jr(e){var t=Ht.get(e.nodeName);if(t)return t;Ht.set(e.nodeName,t=[]);for(var n,r=e,i=Element.prototype;i!==r;){n=Xt(r);for(var s in n)n[s].set&&t.push(s);r=kt(r)}return t}function Gr(e,t,n=t){var r=lt();Or(e,"input",i=>{var s=i?e.defaultValue:e.value;if(s=dt(e)?pt(s):s,n(s),r&&s!==(s=t())){var a=e.selectionStart,v=e.selectionEnd;e.value=s??"",v!==null&&(e.selectionStart=a,e.selectionEnd=Math.min(v,e.value.length))}}),Ee(t)==null&&e.value&&n(dt(e)?pt(e.value):e.value),Rt(()=>{var i=t();dt(e)&&i===pt(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function dt(e){var t=e.type;return t==="number"||t==="range"}function pt(e){return e===""?null:+e}function Jt(e,t){return e===t||(e==null?void 0:e[ce])===t}function Wr(e={},t,n,r){return at(()=>{var i,s;return Rt(()=>{i=s,s=[],Ee(()=>{e!==n(...s)&&(t(e,...s),i&&Jt(n(...i),e)&&t(null,...i))})}),()=>{mn(()=>{s&&Jt(n(...s),e)&&t(null,...s)})}}),e}function Xr(e=!1){const t=P,n=t.l.u;if(!n)return;let r=()=>Rr(t.s);if(e){let i=0,s={};const a=ie(()=>{let v=!1;const c=t.s;for(const o in c)c[o]!==s[o]&&(s[o]=c[o],v=!0);return v&&i++,i});r=()=>m(a)}n.b.length&&mr(()=>{Gt(t,r),_t(n.b)}),Ge(()=>{const i=Ee(()=>n.m.map($n));return()=>{for(const s of i)typeof s=="function"&&s()}}),n.a.length&&Ge(()=>{Gt(t,r),_t(n.a)})}function Gt(e,t){if(e.l.s)for(const n of e.l.s)m(n);t()}function Zr(e){var t=V(0);return function(){return arguments.length===1?(I(t,m(t)+1),arguments[0]):(m(t),e())}}function Qr(e){for(var t=E,n=E;t!==null&&!(t.f&(X|Re));)t=t.parent;try{return te(t),e()}finally{te(n)}}function Ue(e,t,n,r){var g;var i=(n&ar)!==0,s=!be||(n&or)!==0,a=(n&lr)!==0,v;v=e[t];var c=ce in e||Kn in e,o=((g=_e(e,t))==null?void 0:g.set)??(c&&a&&t in e?_=>e[t]=_:void 0),u=r,f=!0,l=()=>(f&&(f=!1,u=r),u);v===void 0&&r!==void 0&&(o&&s&&Wn(),v=l(),o&&o(v));var d;if(s)d=()=>{var _=e[t];return _===void 0?l():(f=!0,_)};else{var p=Qr(()=>(i?ie:pr)(()=>e[t]));p.f|=Vn,d=()=>{var _=m(p);return _!==void 0&&(u=void 0),_===void 0?u:_}}return d}function An(e){P===null&&gn(),be&&P.l!==null?ti(P).m.push(e):Ge(()=>{const t=Ee(e);if(typeof t=="function")return t})}function ei(e){P===null&&gn(),An(()=>()=>Ee(e))}function ti(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const ni="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ni);function ri(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ze={exports:{}};/**
 * mainloop.js 1.0.3-20170529
 *
 * @author Isaac Sukin (http://www.isaacsukin.com/)
 * @license MIT
 */var ii=ze.exports,Wt;function si(){return Wt||(Wt=1,function(e){(function(t){function n(y){if(D=h(n),!(y<s+l)){for(i+=y-s,s=y,b(y,i),y>o+c&&(a=v*u*1e3/(y-o)+(1-v)*a,o=y,u=0),u++,f=0;i>=r;)if(T(r),i-=r,++f>=240){g=!0;break}Z(i/r),F(a,g),g=!1}}var r=1e3/60,i=0,s=0,a=60,v=.9,c=1e3,o=0,u=0,f=0,l=0,d=!1,p=!1,g=!1,_=typeof window=="object"?window:t,h=_.requestAnimationFrame||function(){var y=Date.now(),z,C;return function(B){return z=Date.now(),C=Math.max(0,r-(z-y)),y=z+C,setTimeout(function(){B(z+C)},C)}}(),w=_.cancelAnimationFrame||clearTimeout,S=function(){},b=S,T=S,Z=S,F=S,D;t.MainLoop={getSimulationTimestep:function(){return r},setSimulationTimestep:function(y){return r=y,this},getFPS:function(){return a},getMaxAllowedFPS:function(){return 1e3/l},setMaxAllowedFPS:function(y){return typeof y>"u"&&(y=1/0),y===0?this.stop():l=1e3/y,this},resetFrameDelta:function(){var y=i;return i=0,y},setBegin:function(y){return b=y||b,this},setUpdate:function(y){return T=y||T,this},setDraw:function(y){return Z=y||Z,this},setEnd:function(y){return F=y||F,this},start:function(){return p||(p=!0,D=h(function(y){Z(1),d=!0,s=y,o=y,u=0,D=h(n)})),this},stop:function(){return d=!1,p=!1,w(D),this},isRunning:function(){return d}},e!==null&&(e.exports=t.MainLoop)})(ii)}(ze)),ze.exports}var ai=si();const H=ri(ai);var Me,tt,Ie,G,Te,Pn,Mn;class oi{constructor(){xe(this,G);xe(this,Me,J(L({begin:[],draw:[],update:[],end:[]})));xe(this,tt,ie(()=>({begin:this.functions.begin.length,draw:this.functions.draw.length,update:this.functions.update.length,end:this.functions.end.length})));xe(this,Ie,J(L({isVisible:!0,timestamp:0,lastTimestamp:0,lastAbsence:0,checkAway:!1,frame:0,tick:0,isRunning:!1,fps:0,lastInterp:0,lastDelta:0,panic:!1})));O(this,"register",(t,n)=>fe(this,G,Pn).call(this,t,n));O(this,"unregister",(t,n)=>fe(this,G,Mn).call(this,t,n));O(this,"begin",(t,n)=>{this.state.timestamp=t,this.state.checkAway&&(this.state.lastAbsence=t-this.state.lastTimestamp,this.state.checkAway=!1)});O(this,"draw",t=>{this.state.lastInterp=t,this.state.frame++});O(this,"update",t=>{this.state.tick++,this.state.lastDelta=t*1e3});O(this,"end",(t,n)=>{this.state.fps=t,this.state.panic=n});O(this,"getLastAbsence",()=>this.state.lastAbsence);O(this,"getFPS",H.getFPS);O(this,"getMaxAllowedFPS",H.getMaxAllowedFPS);O(this,"getSimulationTimestep",H.getSimulationTimestep);O(this,"setMaxAllowedFPS",H.setMaxAllowedFPS);O(this,"setSimulationTimestep",H.setSimulationTimestep);O(this,"reset",()=>{this.stop(),this.state.frame=1,this.state.tick=1});H.setBegin((t,n)=>fe(this,G,Te).call(this,"begin",[t,n])),H.setDraw(t=>fe(this,G,Te).call(this,"draw",[t])),H.setUpdate(t=>fe(this,G,Te).call(this,"update",[t/1e3])),H.setEnd((t,n)=>fe(this,G,Te).call(this,"end",[t,n])),this.register("begin",this.begin),this.register("draw",this.draw),this.register("update",this.update),this.register("end",this.end),document.addEventListener("visibilitychange",()=>document.hidden?this.stop():this.start())}get functions(){return m(de(this,Me))}set functions(t){I(de(this,Me),L(t))}get lengths(){return m(de(this,tt))}get state(){return m(de(this,Ie))}set state(t){I(de(this,Ie),L(t))}start(){H.start(),requestAnimationFrame(()=>this.state.isRunning=!0)}stop(){this.state.isRunning=!1,H.stop(),this.state.lastTimestamp=this.state.timestamp,this.state.checkAway=!0}}Me=new WeakMap,tt=new WeakMap,Ie=new WeakMap,G=new WeakSet,Te=function(t,n){this.functions[t].forEach(r=>{r(...n)})},Pn=function(t,n){this.functions[t].indexOf(n)===-1&&this.functions[t].push(n)},Mn=function(t,n){const r=this.functions[t].indexOf(n);this.functions[t].indexOf(n)>-1&&this.functions[t].splice(r,1)};const we=new oi;we.start();function vt(e,t){Fe(t,!0);let n=Ue(t,"begin",3,void 0),r=Ue(t,"update",3,void 0),i=Ue(t,"draw",3,void 0),s=Ue(t,"end",3,void 0);function a(v){n()&&v("begin",n()),r()&&v("update",r()),i()&&v("draw",i()),s()&&v("end",s())}An(()=>a(we.register)),ei(()=>a(we.unregister)),Ne()}tr();var M=Zr(()=>we),li=Y("<button>Reset</button> <button>Log Update ƒs</button>",1),ui=Y('<span class="svelte-rffoi0"> </span>'),fi=Y('<span class="svelte-rffoi0"><span class="svelte-rffoi0"> </span> <span class="svelte-rffoi0"> </span> <span class="svelte-rffoi0"> </span> <span class="svelte-rffoi0"> </span> <span class="svelte-rffoi0"> </span> <span class="svelte-rffoi0"> </span> <span class="svelte-rffoi0"> </span> <span class="svelte-rffoi0"> </span> <span class="svelte-rffoi0"> </span></span> <span class="svelte-rffoi0"></span>',1),ci=Y('<section class="svelte-rffoi0"><span class="svelte-rffoi0"><button> </button> <button> </button> <!></span> <!></section>');function vi(e,t){Fe(t,!1),Xr();var n=ci(),r=k(n),i=k(r);i.__click=function(...l){var d;(d=M().state.isRunning?M().stop:M().start)==null||d.apply(this,l)};var s=k(i),a=x(i,2);a.__click=()=>M(M().state.isVisible=!M().state.isVisible);var v=k(a),c=x(a,2);{var o=l=>{var d=li(),p=oe(d);p.__click=function(..._){var h;(h=M().reset)==null||h.apply(this,_)};var g=x(p,2);g.__click=()=>console.log(M().functions.update),q(l,d)};Pe(c,l=>{M().state.isVisible&&l(o)})}var u=x(r,2);{var f=l=>{var d=fi(),p=oe(d),g=k(p),_=k(g),h=x(g,2),w=k(h);$(()=>R(w,`FPS: ${M().state.fps.toFixed(0)??""}`));var S=x(h,2),b=k(S),T=x(S,2),Z=k(T),F=x(T,2),D=k(F);$(()=>R(D,`Timestamp: ${M().state.timestamp.toFixed(0)??""}`));var y=x(F,2),z=k(y);$(()=>R(z,`Last Timestamp: ${M().state.lastTimestamp.toFixed(0)??""}`));var C=x(y,2),B=k(C);$(()=>R(B,`Last Absence: ${M().state.lastAbsence.toFixed(0)??""}`));var qe=x(C,2),Ce=k(qe);$(()=>R(Ce,`Last Delta: ${M().state.lastDelta.toFixed(2)??""}ms`));var $e=x(qe,2),je=k($e),Ve=x(p,2);kn(Ve,5,()=>Object.entries(M().lengths),Sn,(Be,Ft)=>{let In=()=>m(Ft)[0],Rn=()=>m(Ft)[1];var Nt=ui(),Ln=k(Nt);$(()=>R(Ln,`${In()??""}:${Rn()??""}`)),q(Be,Nt)}),$(()=>{R(_,M().state.isRunning?"Running":"Paused"),R(b,`Frame: ${M().state.frame??""}`),R(Z,`Tick: ${M().state.tick??""}`),R(je,`${(M().state.panic?"time to":"don't")??""} panic`)}),q(l,d)};Pe(u,l=>{M().state.isVisible&&l(f)})}$(()=>{R(s,M().state.isRunning?"Stop":"Start"),R(v,M().state.isVisible?"Hide Debug Info":"Show Debug Info")}),q(e,n),Ne()}Ot(["click"]);var di=Y(`<article class="svelte-1kfrv2b"><p>Svelte Mainloop is a wrapper for mainloop.js that adds some useful functionality and makes it dead simple to use.</p> <p>It takes care of function registry management, so you can add and remove functions from each stage of the loop.</p> <p>Just import and add the <strong>JoinLoop</strong> component and pass it your update function.</p> <p>Since mainloop.js provides multiple stages of the loop for various purposes, you can pass them in like so:</p> <section class="svelte-1kfrv2b"><code>import &#123; JoinLoop &#125; from "svelte-mainloop";<br><br> // write your own update functions here<br><br> &lt;JoinLoop &#123;begin&#125; &#123;update&#125; &#123;draw&#125; &#123;end&#125; /&gt;</code></section> <p>Each of these is entirely optional, though you will want to use at least one. Each stage passes different parameters to your function so it's important to understand which stage you should use.</p> <p>It's highly recommended to visit the mainloop.js docs.</p> <p>The components on the left provide various examples of some ways to use the different stages.</p> <p>The code is available at the svelte-mainloop github.</p> <p>There's also a <strong>ViewLoop</strong> component that you can use to control the loop and debug your apps.</p> <p>Svelte Mainloop also provides some of the mainloop.js docs inline using intellisense.</p> <p>To understand better why you might want to use mainloop instead of requestAnimationFrame, read this article by the author of mainloop.js:</p> <a href="https://www.isaacsukin.com/news/2015/01/detailed-explanation-javascript-game-loops-and-timing">A Detailed Explanation of JavaScript Game Loops and Timing</a> by Isaac Sukin.</article>`);function pi(e){var t=di();q(e,t)}var hi=(e,t)=>xn(t),_i=(e,t)=>xn(t,-1),mi=Y(`<!> <header> <input type="range" min="1" max="100"> <button>+</button> <button>-</button></header> <div class="svelte-xrzhem">Raw: <progress> </progress> </div> <div class="svelte-xrzhem">Interpolated: <progress> </progress> </div> <article class="svelte-xrzhem"><p>This component demonstrates the use of the <strong>update</strong> and <strong>draw</strong> stages of mainloop.</p> <p>The raw value is updated during the <strong>update</strong> stage, and displayed in the first progress bar.</p> <p>A second interpolated value is calculated during the <strong>draw</strong> stage, and displayed in the second progress bar.</p> <p>Try lowering the <strong>UpdatesPerSecond</strong> value down to 1 to see the interpolation in action.</p> <p>UpdatesPerSecond is using MainLoop's <strong>setSimulationTimestep</strong> to control the update rate. You most likely won't want to use this, but it makes
      for a good example.</p> <p>See the Roll component for a way to handle intermittent events while staying at full fps.</p></article>`,1);function gi(e,t){Fe(t,!0);let n=J(60),r=J(0),i=J(0),s=J(0),a=10;function v(B){I(i,L(m(r))),I(r,(m(r)+B)%a)}function c(B){I(s,L(m(i)>m(r)?m(r):m(i)+(m(r)-m(i))*B))}Ge(()=>{we.setSimulationTimestep(1e3/m(n))});var o=mi(),u=oe(o);vt(u,{update:v,draw:c});var f=x(u,2),l=k(f),d=x(l),p=x(d,2);p.__click=[hi,n];var g=x(p,2);g.__click=[_i,n];var _=x(f,2),h=x(k(_));et(h,"max",a);var w=k(h);const S=ie(()=>m(r).toFixed(1)??""),b=ie(()=>(m(r)/a*100).toFixed(1)??"");var T=x(h);$(()=>R(T,` ${m(S)}
   ${m(b)}%`));var Z=x(_,2),F=x(k(Z));et(F,"max",a);var D=k(F);const y=ie(()=>m(s).toFixed(1)??""),z=ie(()=>(m(s)/a*100).toFixed(1)??"");var C=x(F);$(()=>R(C,` ${m(y)}
   ${m(z)}%`)),$(()=>{R(l,`UpdatesPerSecond: ${m(n)??""} `),zt(h,m(r)),R(w,`${m(r)??""} / ${a}`),zt(F,m(s)),R(D,`${m(s)??""} / ${a}`)}),Gr(d,()=>m(n),B=>I(n,B)),q(e,o),Ne()}Ot(["click"]);var wi=Y(`<!> <span class="svelte-wzi48o"> </span> <article class="svelte-wzi48o"><p>This component is just rolling a number between 1-100 every second.</p> <p>It uses the <strong>begin</strong> stage of mainloop to handle the roll, because that way it can receive the timestamp, which isn't passed to the update function.</p> <p>This way the component only needs to keep track of the last roll's timestamp and compare it against the current timestamp.</p> <p>Since update only receives delta, using update would require keeping a running counter as well as an internal timestamp to compare against.</p></article>`,1);function yi(e){let n=J(0),r=J(0);function i(o){m(n)+1e3>o||(I(n,L(o)),I(r,L(Math.floor(Math.random()*100))))}var s=wi(),a=oe(s);vt(a,{begin:i});var v=x(a,2),c=k(v);$(()=>R(c,m(r))),q(e,s)}var bi=Y('<!> <canvas style="background: #000;" class="svelte-tlxkmc"></canvas> <p>A simple solar system simulation using both <em>update</em> and <em>draw</em> stages of mainloop. <em>Update</em> handles the position calculations, and <em>draw</em> handles the rendering.</p>',1);function Ei(e){function a(_,h){return{x:400+_*Math.cos(h),y:400+_*Math.sin(h)}}const v=L([{r:100,period:1,color:"#3498db",size:10,theta:0,prevTheta:0},{r:160,period:1.6,color:"#e74c3c",size:15,theta:0,prevTheta:0},{r:220,period:2.2,color:"#2ecc71",size:16,theta:0,prevTheta:0},{r:280,period:3,color:"#e67e22",size:12,theta:0,prevTheta:0}]);let c,o;function u(_){o=_.getContext("2d"),l()}function f(_){const h=_/1e3;v.forEach(w=>{w.prevTheta=w.theta,w.theta=(w.theta+h/w.period*100*(Math.PI*2))%(Math.PI*2)})}function l(_=1){o.clearRect(0,0,800,800),o.beginPath(),o.arc(400,400,30,0,Math.PI*2),o.fillStyle="#f1c40f",o.fill(),v.forEach(h=>{o.beginPath(),o.arc(400,400,h.r,0,Math.PI*2),o.strokeStyle="rgba(255, 255, 255, 0.2)",o.stroke();let w=h.theta-h.prevTheta;w<-Math.PI?w+=Math.PI*2:w>Math.PI&&(w-=Math.PI*2);const S=h.prevTheta+w*_,b=a(h.r,S);o.beginPath(),o.arc(b.x,b.y,h.size,0,Math.PI*2),o.fillStyle=h.color,o.fill()})}var d=bi(),p=oe(d);vt(p,{update:f,draw:l});var g=x(p,2);et(g,"width",800),et(g,"height",800),Hr(g,_=>u==null?void 0:u(_)),Wr(g,_=>c=_,()=>c),q(e,d)}class xi{constructor(){O(this,"buffer",[]);O(this,"bufferSize",10);O(this,"bufferTimeWindow",500);window.addEventListener("keydown",t=>this.addToBuffer(t.code))}addToBuffer(t){const n=performance.now();this.buffer.push({key:t,timestamp:n}),this.buffer=this.buffer.filter(r=>n-r.timestamp<this.bufferTimeWindow),this.buffer.length>this.bufferSize&&this.buffer.shift()}getBuffer(t=this.bufferSize){return this.buffer.map(n=>n.key).slice(-t)}checkSequence(t){const n=this.getBuffer(t.length);return t.every((r,i)=>r===n[i])}clearBuffer(){this.buffer=[]}}const ht=new xi;var Ti=Y('<span class="move svelte-1gvn9kw"> </span>'),Si=Y('<span class="info svelte-1gvn9kw">(Try pressing "A", "S", "D" in quick succession)</span>'),ki=Y('<!> <article id="detect-input" class="svelte-1gvn9kw"><header class="svelte-1gvn9kw"><span class="svelte-1gvn9kw">Input Buffer Detection</span> <!></header> <!></article> <article class="svelte-1gvn9kw"><p>This component processes input sequences using the <strong>begin</strong> stage of mainloop.</p> <p>Key presses are detected and added to a keyboard buffer using standard keyboard events.</p> <p>Then, the <strong>begin</strong> stage is used to check the input buffer for a sequence of keys.</p> <p>If a sequence is detected, it clears the buffer and sets a timeout to clear the detected move after 1 second.</p></article>',1);function Ai(e,t){Fe(t,!0);const n={Hadoken:["KeyA","KeyS","KeyD"],Shoryuken:["KeyD","KeyA","KeyS"],"Tatsumaki Senpuukyaku":["KeyD","KeyS","KeyA"]};let r=J(L([])),i=J(""),s=null;function a(){I(r,L(ht.getBuffer()??[]));for(const[h,w]of Object.entries(n))if(ht.checkSequence(w)){s&&clearTimeout(s),I(i,L(h)),ht.clearBuffer(),s=setTimeout(()=>I(i,""),1e3);break}}var v=ki(),c=oe(v);vt(c,{begin:a});var o=x(c,2),u=k(o),f=x(k(u),2);{var l=h=>{var w=Ti(),S=k(w);$(()=>R(S,`${m(i)??""}!`)),q(h,w)},d=h=>{var w=Si();q(h,w)};Pe(f,h=>{m(i)?h(l):h(d,!1)})}var p=x(u,2);{var g=h=>{var w=Ut();$(()=>R(w,`Recent inputs: ${m(r).join(" → ")??""}`)),q(h,w)},_=h=>{var w=Ut("Loop must be running to check inputs");q(h,w)};Pe(p,h=>{we.state.isRunning?h(g):h(_,!1)})}q(e,v),Ne()}var Pi=(e,t,n)=>I(t,L(m(n))),Mi=Y('<li><button class="svelte-1qevfy0"> </button></li>'),Ii=Y('<header class="svelte-1qevfy0"><span class="svelte-1qevfy0">Svelte Mainloop Test App</span> <ul class="svelte-1qevfy0"><li>mainloop.js:</li> <li><a href="https://github.com/IceCreamYou/MainLoop.js/">github</a></li> <li><a href="https://icecreamyou.github.io/MainLoop.js/docs/#!/api/MainLoop">docs</a></li></ul></header> <aside class="svelte-1qevfy0"><ul class="svelte-1qevfy0"></ul></aside> <main class="svelte-1qevfy0"><!></main> <footer class="svelte-1qevfy0"><!></footer>',1);function Ri(e){const t=[{name:"About",component:pi},{name:"Solar System",component:Ei},{name:"Job",component:gi},{name:"Roll",component:yi},{name:"Detect Input",component:Ai}];let n=J(L(t[0]));var r=Ii(),i=x(oe(r),2),s=k(i);kn(s,21,()=>t,Sn,(f,l)=>{var d=Mi(),p=k(d);p.__click=[Pi,n,l];var g=k(p);$(()=>R(g,m(l).name)),q(f,d)});var a=x(i,2),v=k(a);{var c=f=>{var l=Nr(),d=oe(l);zr(d,()=>m(n).component,(p,g)=>{g(p,{})}),q(f,l)};Pe(v,f=>{m(n)&&f(c)})}var o=x(a,2),u=k(o);vi(u,{}),q(e,r)}Ot(["click"]);$r(Ri,{target:document.getElementById("app")});
